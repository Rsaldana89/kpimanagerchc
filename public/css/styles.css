/*
 * Estilos personalizados para el sistema de KPIs.  Utiliza colores
 * sobrios y acordes a un ambiente corporativo.  Bootstrap se
 * encarga de la mayor parte del estilo; aquí solo se afinan
 * algunos detalles.
 */

body {
  /* Fondo general: un tono muy claro para un look moderno y profesional */
  background-color: var(--kpi-bg);
  color: #2c3e50;
}

.table td,
.table th {
  vertical-align: middle;
}

/* Colores de semáforo para KPI */
.bg-rojo {
  background-color: #dc3545 !important;
  color: #fff;
}
.bg-amarillo {
  background-color: #ffc107 !important;
}
.bg-verde {
  background-color: #28a745 !important;
  color: #fff;
}

/* Ajustes para organigrama */
.org-list {
  margin-left: 0;
  font-size: 0.95rem;
}

.org-list li {
  margin: 0.5rem 0;
}

/* ==========================
   Pantalla Personal (UI)
   ========================== */

/* Fila marcada como BAJA */
.baja-row {
  background: #fff5f5;
}

/* Modo edición */
tr.employee-row.is-editing {
  background: #eef6ff;
}

/* Campos en modo lectura: se ven como texto y no “gritan” */
tr.employee-row .readlike[readonly],
tr.employee-row .readlike:disabled {
  background: transparent !important;
  border-color: transparent !important;
  padding-left: 0 !important;
  padding-right: 0 !important;
  box-shadow: none !important;
}

tr.employee-row .readlike:disabled {
  opacity: 1;
  color: inherit;
}

.employee-actions .btn {
  min-width: 84px;
}

/* Personal: mejor legibilidad (evita que los campos se vean "apelmazados") */
.personal-table th,
.personal-table td {
  padding: .5rem .6rem;
  vertical-align: middle;
}

/* Barra horizontal visible en Personal (hace obvio que la tabla se puede recorrer) */
.personal-table-scroll {
  overflow-x: scroll !important; /* siempre muestra barra horizontal cuando aplica */
  overflow-y: hidden;
  scrollbar-gutter: stable both-edges;
  padding-bottom: .35rem; /* deja espacio para la barra */
  cursor: grab;
}
.personal-table-scroll:active {
  cursor: grabbing;
}

/* Scrollbar más "visible" (WebKit) */
.personal-table-scroll::-webkit-scrollbar {
  height: 14px;
}
.personal-table-scroll::-webkit-scrollbar-track {
  background: rgba(0,0,0,.06);
  border-radius: 999px;
}
.personal-table-scroll::-webkit-scrollbar-thumb {
  background: rgba(0,0,0,.25);
  border-radius: 999px;
}
.personal-table-scroll::-webkit-scrollbar-thumb:hover {
  background: rgba(0,0,0,.35);
}

.personal-table .cell-text {
  line-height: 1.25;
}

.personal-table .cell-name {
  min-width: 280px;
}

/* Anchos mínimos por columna (mantiene todo visible sin que se aplaste) */
.personal-table th:nth-child(4),
.personal-table td:nth-child(4) { min-width: 260px; } /* Puesto */
.personal-table th:nth-child(5),
.personal-table td:nth-child(5) { min-width: 180px; } /* Responde a */
.personal-table th:nth-child(6),
.personal-table td:nth-child(6) { min-width: 170px; } /* Departamento */
.personal-table th:nth-child(7),
.personal-table td:nth-child(7) { min-width: 190px; } /* Sucursal */
.personal-table th:nth-child(8),
.personal-table td:nth-child(8) { min-width: 240px; } /* Correo */
.personal-table th:nth-child(9),
.personal-table td:nth-child(9) { min-width: 160px; } /* Usuario */
.personal-table th:nth-child(10),
.personal-table td:nth-child(10) { min-width: 220px; } /* Contraseña */
.personal-table th:nth-child(12),
.personal-table td:nth-child(12) { min-width: 190px; } /* Acciones */

.save-pill {
  display: inline-flex;
  align-items: center;
  gap: .35rem;
  font-size: .85rem;
  padding: .25rem .5rem;
  border-radius: 999px;
  border: 1px solid rgba(0,0,0,.1);
}

.save-pill.ok {
  background: rgba(25,135,84,.1);
  color: #198754;
  border-color: rgba(25,135,84,.25);
}

.save-pill.err {
  background: rgba(220,53,69,.08);
  color: #dc3545;
  border-color: rgba(220,53,69,.25);
}

/* ==========================================================================
   Paleta de colores y overrides para un tema más moderno
   ========================================================================== */
/* Definimos variables CSS personalizadas para centralizar la paleta.
   Utilizamos tonos azules y verdes suaves con acentos cálidos para
   diferenciar secciones sin caer en un tema oscuro. */
:root {
  --kpi-primary: #1b4965;     /* Azul profundo para nav y títulos */
  --kpi-secondary: #5fa8d3;   /* Azul claro para botones y acentos */
  --kpi-accent: #faae2b;      /* Amarillo cálido para badges y resaltados */
  --kpi-bg: #f5faff;          /* Fondo muy claro para páginas */
  --kpi-section: #eaf4fb;     /* Fondo de secciones ligeras */
  --kpi-header: #dbe9f5;      /* Fondo de encabezados de tabla */
  --kpi-title: #1b4965;       /* Color de texto principal/títulos */
}

/* Navbar: usamos la paleta personalizada en lugar del gris oscuro */
.navbar-dark.bg-dark {
  background-color: var(--kpi-primary) !important;
}
.navbar-dark .navbar-brand,
.navbar-dark .nav-link,
.navbar-dark .navbar-text {
  color: #ffffff !important;
}
.navbar-dark .nav-link:hover,
.navbar-dark .nav-link:focus {
  color: var(--kpi-accent) !important;
}
.navbar-dark .nav-link.active {
  color: var(--kpi-accent) !important;
}

/* Version badge: color de fondo basado en nuestro acento */
.badge-version {
  background-color: var(--kpi-accent) !important;
  color: var(--kpi-primary) !important;
}

/* Botones primarios: tonos más suaves y consistentes con la paleta */
.btn-primary {
  background-color: var(--kpi-secondary) !important;
  border-color: var(--kpi-secondary) !important;
  color: #ffffff !important;
}
.btn-primary:hover,
.btn-primary:focus {
  background-color: #4e97c8 !important;
  border-color: #4e97c8 !important;
  color: #ffffff !important;
}
.btn-outline-light {
  color: #ffffff !important;
  border-color: rgba(255,255,255,.8) !important;
}
.btn-outline-light:hover,
.btn-outline-light:focus {
  background-color: rgba(255,255,255,.2) !important;
  color: #ffffff !important;
}

/* Encabezados de tabla: tono claro distintivo */
.table thead.table-light th {
  background-color: var(--kpi-header) !important;
  color: var(--kpi-title) !important;
}

/* Celdas de secciones alternas: para que cada bloque se diferencie */
.table tbody tr:nth-child(odd) {
  background-color: var(--kpi-section);
}

/* Cambiar la sombra del modo edición para que armonice con el nuevo fondo */
tr.employee-row.is-editing {
  background: #e1ecfa;
}
/* Acciones más visibles en edición */
tr.employee-row.is-editing .employee-actions {
  position: sticky;
  right: 0;
  background: rgba(238, 246, 255, 0.95);
}
tr.employee-row.is-editing .employee-actions .btn-success {
  box-shadow: 0 0 0 .15rem rgba(13,110,253,.25);
}
